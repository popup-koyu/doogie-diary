# DOOGIE - 1990s DOS Style Diary Application

## 프로젝트 개요

**DOOGIE**는 1990년대 DOS 시대의 감성을 재현한 웹 기반 일기장 애플리케이션입니다. 복고풍 CRT 모니터 느낌의 녹색 텍스트와 픽셀 아트 이미지 처리를 특징으로 합니다.

## 핵심 사양

### 1. 화면 구성 및 비율
- **전체 화면 비율**: 4:3 (고정)
- **레이아웃**:
  - 상단: 고정 메뉴 바 (Sticky)
  - 본문: 텍스트 에디터 + 이미지 섹션 (1:1 분할, 이미지 없을 시 텍스트만 100% 사용)
  - 이미지 섹션: 이미지가 추가될 때만 표시 (구분선 동적 표시)
- **반응형**: aspect-ratio를 사용한 자동 조절

### 2. 디자인 시스템

#### 색상 테마
- **배경색**: `#000000` (검정)
- **텍스트/테두리**: `#00ff00` (DOS 녹색)
- **호버 효과**: `#ffffff` (흰색)
- **강조 배경**: `#003300` (어두운 녹색)

#### 폰트
- **한글**: NeoDunggeunmo (네오둥근모) - 20px
- **영문/숫자**: VT323 - 36px (날짜), 24px (제목)
- **게임 타이틀**: Press Start 2P (DOOGIE 타이틀)
- **렌더링**: Monospace 기반

#### UI 요소
- 모든 테두리는 1px solid 녹색
- 버튼: 투명 배경 + 녹색 테두리, 호버 시 반전
- 드롭다운: max-height transition 애니메이션 (0.3s)

### 3. 기능 명세

#### 3.1 타이틀 화면 메뉴
**메뉴 항목**:
1. **일기쓰기 / Diary**: 새 일기 작성 화면으로 진입
2. **나의 일기장 / Memory**: 저장된 일기 목록 보기
3. **디스켓 / Diskette**: 크레딧 화면 (제작진 정보)

#### 3.2 상단 메뉴 바 (일기 작성 화면)
**메뉴 버튼 (좌측 → 우측)**:
1. **Home**: 타이틀 화면으로 복귀
2. **New**: 새 일기 작성 (오늘 날짜의 새 항목 생성)
3. **Save**: 현재 일기 저장
4. **Picture**: 이미지 관리 (드롭다운)
   - Add Picture: 이미지 추가
   - View Images (N): 이미지 모달로 보기
5. **List**: 저장된 일기 목록 (드롭다운, position: fixed)
6. **Export**: 데이터 내보내기
7. **Import**: 데이터 가져오기
8. **Help**: 도움말 화면
9. **Fullscreen**: 전체화면 모드 전환

**드롭다운 동작**:
- 하나의 드롭다운이 열리면 다른 드롭다운 자동 닫힘
- 외부 클릭 시 자동 닫힘
- 100ms 딜레이로 즉시 닫힘 방지
- List 드롭다운: 화면 잘림 방지를 위해 position: fixed (z-index: 9999)

#### 3.3 일기 작성 기능

**날짜 표시 형식**:
```
MM/DD/YYYY DAYOFWEEK
예: 11/19/2025 WEDNESDAY
```
- **일기 작성 화면**: 날짜만 표시 (항목 번호 미표시)
- **리스트/달력 화면**: 날짜 + 항목 번호 표시 (예: 2025.11.19 (2))

**다중 항목 지원**:
- 같은 날짜에 여러 일기 작성 가능
- 키 형식:
  - 첫 번째: `YYYY-MM-DD`
  - 두 번째: `YYYY-MM-DD_(2)`
  - 세 번째: `YYYY-MM-DD_(3)`
- 최대 100개까지 지원

**자동 저장**:
- 입력 후 2초 후 자동 저장
- 페이지 이탈 시 자동 저장
- localStorage 사용

**저장 확인 다이얼로그**:
- 저장하지 않은 내용이 있을 시 확인 다이얼로그 표시
- DOS 스타일 박스 (이중 테두리 + 그림자)
- Yes/No 버튼

#### 3.4 이미지 처리 시스템

**이미지 변환**:
- **픽셀화**: 3px 단위로 다운스케일
- **색상 팔레트**: 녹색 계열 5단계
  - 밝기를 계산하여 0, 51, 102, 153, 204, 255 중 선택
- **포맷**: Base64 Data URL
- **두 가지 버전 생성**:
  - Thumbnail: 600px 제한 (일기 보기용)
  - Full: 1200px 제한 (모달용)

**이미지 레이아웃** (Grid 사용):

| 이미지 개수 | 레이아웃 | Grid 설정 |
|------------|----------|-----------|
| 0장 | 텍스트 전용 | 이미지 섹션 숨김, 구분선 없음 |
| 1장 | 전체 화면 1개 | 1x1 |
| 2장 | 세로로 2개 | 1x2 |
| 3장 | 상단 1개 (2열 병합) + 하단 2개 | 2x2 (첫 번째 span 2) |
| 4장 이상 | 2x2 격자, 스크롤 | 2xN |

**이미지 모달**:
- 전체 화면 오버레이
- DOS 스캔 효과 애니메이션 (1.5초)
- `clip-path`를 사용한 위→아래 스캔라인
- 녹색 그라데이션 스캔 바 (3px)
- ESC 또는 X 버튼으로 닫기

#### 3.5 달력 뷰 (Calendar View)

**위치**: 타이틀 화면 → 나의 일기장 (Memory) 메뉴

**레이아웃**:
- **좌우 분할 구조**:
  - 왼쪽 50%: 월간 달력
  - 오른쪽 50%: 해당 월의 일기 리스트
  - 중앙 구분선: 1px solid #00ff00

**달력 기능**:
- **월 네비게이션**: ◀ / ▶ 버튼으로 이전/다음 달 이동
- **월/연도 표시**: "JANUARY 2025" 형식
- **요일 헤더**: SUN, MON, TUE, WED, THU, FRI, SAT
- **7x6 그리드**: 일요일부터 토요일까지 (42개 셀)
- **날짜 표시**:
  - 당월 날짜: 일반 녹색 (#008800)
  - 전/후월 날짜: 희미한 녹색 (#003300)
  - 오늘 날짜: 녹색 테두리 강조 (2px solid #00ff00)

**일기 표시**:
- 일기가 있는 날짜: 하단에 **녹색 점(dot)** 표시 (4px 원형)
- 호버 효과: 배경 어두운 녹색 (#003300)
- 클릭 시: 해당 날짜의 첫 번째 일기로 이동

**오른쪽 리스트**:
- 현재 보고 있는 월의 일기만 필터링
- 최신순 정렬
- 날짜 + 항목 번호 + 미리보기 텍스트
- 이미지 개수 표시: [사진 N장]
- Settings 버튼 하단 배치

#### 3.6 설정 (Settings)

**위치**: 나의 일기장/달력 화면 → 하단 "⚙ Settings" 버튼

**언어 설정**:
- 한국어/English 전환
- localStorage에 저장 (재방문 시 유지)
- 메뉴 텍스트 번역:
  - 한국어: 일기쓰기, 나의 일기장, 디스켓
  - English: Diary, Memory, Diskette

#### 3.7 전체화면 모드 (Fullscreen)

**활성화 방법**:
- 상단 메뉴 바 "Fullscreen" 버튼 클릭
- Fullscreen API 사용 (브라우저 네이티브 전체화면)

**기능**:
- 브라우저 주소창, 탭, 메뉴 모두 숨김
- 화면 전체를 DOOGIE가 차지
- 진입 시 안내 메시지: "Press ESC to exit fullscreen" (3초간 표시)

**종료 방법**:
- ESC 키 누르기
- Fullscreen 버튼 재클릭

**브라우저 호환성**:
- Chrome, Firefox, Edge: `requestFullscreen()`
- Safari: `webkitRequestFullscreen()`
- IE11: `msRequestFullscreen()`

#### 3.8 데이터 관리

**Export (내보내기)**:
- JSON 파일로 모든 일기 데이터 백업
- 파일명: `doogie-diary-backup-YYYY-MM-DD.json`
- 텍스트 + 이미지(Base64) 포함

**Import (가져오기)**:
- JSON 파일 업로드
- 기존 데이터와 병합 (덮어쓰기)
- 유효성 검사 포함

**저장 구조** (localStorage):
```javascript
{
  "doogie-diary": {
    "YYYY-MM-DD": {
      text: "일기 내용",
      images: [
        { thumbnail: "data:image/png;base64,...", full: "data:image/png;base64,..." }
      ]
    }
  },
  "doogie-language": "ko" | "en",
  "doogie-characters": [
    { name: "캐릭터명", role: "역할", image: "data:image/png;base64,..." }
  ]
}
```

### 4. 크레딧 화면 (디스켓)

#### 4.1 레이아웃
- **타이틀**: "DOOGIE" (Press Start 2P 폰트, 대형)
- **서브타이틀**: "An Interactive Diary Experience"
- **NYC 스카이라인**: 픽셀 아트 빌딩들
- **도로 + 자동차**: 양방향 이동 애니메이션
- **회사명**: `** << POPUP STUDIO >> **` (펄스 글로우 효과)
- **캐릭터 섹션**: 6개 캐릭터 슬롯 (3x2 그리드)
- **푸터**: 저작권 + 위트 있는 연도 표시

#### 4.2 NYC 스카이라인
- **빌딩 개수**: 15개
- **디자인**: 3가지 옥상 스타일 (antenna, crown, flat)
- **창문 타입**: 4가지 (small, wide, tall, square)
- **창문 애니메이션**: 8-12개 창문이 250ms마다 랜덤 깜빡임
- **색상**: 다양한 녹색 톤 랜덤 적용

#### 4.3 도로 + 자동차
- **도로**: 30px 높이, 중앙 점선
- **자동차 종류**: 승용차(70%), 트럭(30%)
- **양방향 이동**:
  - 왼쪽→오른쪽: 하단 차선
  - 오른쪽→왼쪽: 상단 차선 (좌우 반전)
- **생성 주기**: 1.5초마다
- **속도**: 6-10초 (랜덤)
- **디자인**: Canvas 기반 픽셀 아트

#### 4.4 캐릭터 슬롯
- **개수**: 6개 (3열 x 2행)
- **크기**: 180x180px (정사각형)
- **업로드 방식**: 클릭 or 드래그앤드롭
- **이미지 크롭**:
  - 드래그로 영역 이동
  - 코너 핸들로 크기 조절 (정사각형 유지)
  - Crop & Apply 버튼으로 적용
- **픽셀 아트 변환**: 3px 단위, 5단계 녹색 팔레트
- **편집 가능 텍스트**:
  - 이름 (char-name): 클릭하여 수정
  - 역할 (char-role): 클릭하여 수정
  - 간격: 이름과 역할 사이 -12px margin
- **저장**: localStorage에 자동 저장

#### 4.5 회사명 디자인
```
** << POPUP STUDIO >> **
```
- 별표 크기: 16.8px (기본 대비 30% 축소)
- 괄호 크기: 24px
- 간격: 균등 12px
- 애니메이션: 2초 주기 펄스 글로우

#### 4.6 푸터 위트
```
© ̶1̶9̶8̶5̶ POPUP-STUDIO - Made with 💚 in DOS Era
   2025
```
- 1985: 삭선 처리 (#00cc00, 1px 두께, 글로우)
- 2025: 상단 표시 (밝은 녹색, 굵게)
- "타임머신 버그 수정" 콘셉트

### 5. 애니메이션 및 효과

#### 타이틀 화면
- 로고: 5초 fade-in 애니메이션
- 메뉴 항목: 순차적 fade-in (0.5초 간격)
- 선택 효과: ▶ 아이콘 + 텍스트 확대
- 배경 별: 30개, 랜덤 위치, 깜빡임 애니메이션

#### CRT 스캔 효과
```css
@keyframes scanReveal {
  0% { clip-path: inset(0 0 100% 0); }
  100% { clip-path: inset(0 0 0% 0); }
}

@keyframes scanline {
  0% { opacity: 1; top: 0; }
  95% { opacity: 1; }
  100% { opacity: 0; top: 100%; }
}
```

#### 커서 깜빡임
- 텍스트 에디터에 커스텀 커서 (1px x 24px)
- 0.8초 주기 blink 애니메이션

#### 글로우 펄스
```css
@keyframes glowPulse {
  0%, 100% {
    text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00;
  }
  50% {
    text-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00, 0 0 60px #00ff00;
  }
}
```

### 6. 키보드 단축키

| 키 | 동작 |
|----|------|
| `↑` / `↓` | 타이틀 화면 메뉴 항목 선택 |
| `Enter` | 메뉴 실행 / 일기 시작 |
| `ESC` | 설정/도움말/모달 닫기 |
| `F1` | 도움말 보기/닫기 |
| `F2` | 현재 일기 저장 |
| `F3` | 일기 목록 보기 |
| `F4` | 새 일기 작성 |

### 7. 기술 스택

- **HTML5**: Semantic markup
- **CSS3**:
  - Flexbox + CSS Grid
  - CSS Variables
  - CSS Animations
  - aspect-ratio
  - text-decoration-thickness
- **Vanilla JavaScript**: ES6+
  - Canvas API (이미지 처리, 픽셀 아트)
  - localStorage API
  - FileReader API (CORS-free 이미지 업로드)
  - Blob API (JSON 다운로드)
- **외부 의존성**: 없음 (Single HTML File)

### 8. 브라우저 호환성

**필수 기능**:
- CSS Grid
- CSS aspect-ratio
- Canvas API
- localStorage
- ES6 (const, let, arrow functions, template literals)

**권장 브라우저**:
- Chrome 88+
- Firefox 87+
- Safari 15+
- Edge 88+

### 9. 성능 고려사항

**이미지 최적화**:
- Thumbnail과 Full 버전 분리 저장
- 픽셀화로 파일 크기 감소 (3px 단위)
- Base64 인코딩 (localStorage 5MB 제한 고려)

**렌더링 최적화**:
- position: sticky로 메뉴바 고정
- CSS containment 사용 (overflow: hidden)
- Grid auto-flow로 동적 레이아웃
- 이미지 섹션 동적 표시/숨김

**메모리 관리**:
- 이미지 모달 닫을 때 src 초기화
- 불필요한 이벤트 리스너 제거
- New 버튼 클릭 시 이미지 섹션 초기화

### 10. 향후 개선 가능 항목

1. **검색 기능**: 일기 내용 전체 검색
2. **태그 시스템**: 일기에 태그 추가
3. **테마 변경**: Amber, White 모니터 색상 추가
4. **비밀번호 보호**: localStorage 암호화
5. **이미지 편집**: 회전, 필터 추가
6. **음성 녹음**: 음성 메모 첨부
7. **통계**: 작성 빈도, 단어 수 통계
8. **클라우드 동기화**: 브라우저 간 데이터 공유
9. **PWA**: 오프라인 지원, 앱 설치

### 11. 파일 구조

```
test_project/
├── doogie-diary.html    # 메인 애플리케이션 (Single File)
├── DOOGIE_SPEC.md       # 본 기획문서
└── README.md            # 프로젝트 설명서 (선택)
```

### 12. 개발 히스토리

**Phase 1: 기본 구조** (완료)
- 타이틀 화면 및 메뉴 시스템
- 텍스트 에디터 구현
- localStorage 저장/불러오기

**Phase 2: 이미지 시스템** (완료)
- 이미지 업로드 및 픽셀 아트 변환
- 다중 이미지 레이아웃 (Grid)
- DOS 스캔 효과 모달

**Phase 3: UI/UX 개선** (완료)
- 4:3 화면 비율 고정
- 드롭다운 메뉴 충돌 해결
- 이미지 없을 시 전체 화면 활용
- 저장 확인 다이얼로그

**Phase 4: 다중 항목 지원** (완료)
- 같은 날짜 여러 일기 작성
- 항목 번호 표시 시스템
- 키 관리 시스템

**Phase 5: Export/Import** (완료)
- JSON 파일 내보내기
- JSON 파일 가져오기
- 데이터 백업/복원 기능

**Phase 6: 크레딧 화면** (완료)
- 레트로 게임 스타일 크레딧
- NYC 스카이라인 픽셀 아트 (15개 빌딩)
- 창문 깜빡임 애니메이션
- 도로 + 양방향 자동차 애니메이션
- 6개 캐릭터 슬롯
- 드래그앤드롭 이미지 업로드
- 크롭 에디터 (드래그 이동 + 크기 조절)
- 편집 가능한 캐릭터 이름/역할
- 회사명 펄스 글로우 효과
- 위트 있는 저작권 표시 (1985 → 2025)

**Phase 7: 설정 및 다국어** (완료)
- Settings 화면 추가 (나의 일기장 내부)
- 한국어/English 전환 기능
- localStorage 언어 설정 저장
- 메뉴 텍스트 번역

**Phase 8: 버그 수정 및 최적화** (완료)
- 이미지 섹션 동적 표시/숨김 개선
- New 버튼 클릭 시 이미지 섹션 초기화
- 구분선 조건부 표시
- 캐릭터 이름/역할 간격 조정

**Phase 9: 달력 뷰 및 전체화면** (완료)
- 달력 뷰 구현 (좌우 분할 레이아웃)
  - 왼쪽: 월간 달력 (7x6 그리드)
  - 오른쪽: 해당 월의 일기 리스트
- 일기 있는 날짜에 녹색 점(dot) 표시
- 월 네비게이션 (이전/다음 달 이동)
- 달력에서 날짜 클릭 시 일기 바로 열람
- 전체화면 모드 추가 (Fullscreen API)
  - 브라우저 UI 완전 숨김
  - ESC 키로 종료
  - 크로스 브라우저 호환 (Chrome, Safari, Firefox, Edge)
- 일기 작성 화면 날짜 표시 개선
  - 작성 화면: 항목 번호 미표시
  - 리스트/달력: 항목 번호 표시
- List 드롭다운 position 수정 (fixed, z-index 9999)

---

**문서 버전**: 3.0
**최종 수정일**: 2025-11-19
**작성자**: POPUP-STUDIO
**프로젝트 코드명**: DOOGIE

## 프로젝트 특징 요약

1. **완전한 Single HTML File**: 외부 의존성 없음
2. **DOS 감성**: 1990년대 복고풍 디자인
3. **픽셀 아트**: Canvas 기반 이미지 처리
4. **다국어 지원**: 한국어/English
5. **데이터 백업**: Export/Import 기능
6. **인터랙티브 크레딧**: 편집 가능한 캐릭터, 애니메이션
7. **반응형**: 4:3 비율 유지하며 다양한 화면 크기 지원
8. **오프라인 작동**: localStorage 기반, 인터넷 연결 불필요
9. **달력 뷰**: 월간 달력으로 일기 관리, 점으로 일기 표시
10. **전체화면 모드**: 브라우저 UI 완전 숨김, 몰입형 경험
